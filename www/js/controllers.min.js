angular.module("starter.controllers",[]).controller("AppCtrl",function(a,c,b){}).controller("AboutCtrl",function(a,c,b){}).controller("RegisterCtrl",function(b,g,d,f){var c="",e;g({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php"}).then(function a(h){b.iuts=h.data});b.registerProcess=function(){if(b.userLogin==null||b.userIut==null){b.error="Veuillez remplir tous les champs."}else{g({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?register="+b.userLogin+"&iut="+b.userIut}).then(function h(i){if(i.data==""||i.data==null){c=b.userLogin;e=b.userIut;console.log(c);console.log(e);d.go("app.categories",{userLogin:c,userIut:e})}else{b.error=i.data}})}}}).controller("CategoriesCtrl",function(c,g,d,f,e){userLogin=e.userLogin;console.log(e.userLogin);console.log(e.userLogin);console.log(userLogin);g({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?user="}).then(function b(h){c.categories=h.data},function a(h){console.log(h.data,h.status)});c.getLevels=function(h){d.go("app.levels",{userLogin:userLogin,categoryId:h})}}).controller("LevelsCtrl",function(i,g,a,h,c){var e=h.userLogin;console.log(e);var d=h.categoryId;g({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?category="+h.categoryId}).then(function b(j){i.levels=j.data},function f(j){console.log(j.data,j.status)});i.getQuestions=function(j){a.go("app.questions",{userLogin:e,levelId:j,categoryId:d})}}).controller("QuestionCtrl",function(n,j,k,c,a){var f,l,m,h,g=[],e=0,o,d;d=k.userLogin;l=k.levelId;f=k.categoryId;j({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?category="+f+"&level="+l}).then(function b(p){n.question=p.data;questionId=n.question.id;questionLength=Number(questionId);questionLength+=9;n.getAnswers(questionId)},function i(p){console.log(p.data,p.status)});n.getNextQuestion=function(r){n.correct="";r=Number(r);questionId=r+1;if(questionId<questionLength){console.log(d);j({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?category="+f+"&level="+l+"&question="+questionId}).then(function q(s){n.question=s.data;n.getAnswers(questionId)},function p(s){console.log(s.data,s.status)})}else{a.go("app.result",{scores:e,userLogin:d})}};n.getAnswers=function(r){j({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?question="+r}).then(function q(s){n.answers=s.data},function p(s){console.log(s.data,s.status)})};n.checkAnswer=function(p,q){if(p==1){n.correct="fa fa-check";c(function(){n.getNextQuestion(questionId)},1000)}else{n.correct="fa fa-times";c(function(){n.getNextQuestion(questionId)},1000)}n.stockScores(p)};n.stockScores=function(p){e+=Number(l*p)}}).controller("ResultCtrl",function(c,h,e,g,f){var d=f.userLogin;scores=f.scores;h({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?score="+scores+"&user="+d}).then(function b(i){c.user=i.data},function a(i){console.log(i.data,i.status)});c.getIUTResults=function(i){e.go("app.results",{iut:i})}}).controller("ResultsCtrl",function(i,g,a,e,h){var d;var b=h.iut;g({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php"}).then(function c(j){i.iuts=j.data},function f(j){console.log(j.data,j.status)});if(b!=null){g({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?iut="+b}).then(function c(j){i.userIut=j.data},function f(j){console.log(j.data,j.status)})}i.getIUTScore=function(j){a.go("app.scores",{iut:j})}}).controller("ScoresCtrl",function(c,h,d,g,f){var e=f.iut;console.log(e);h({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?iut="+e}).then(function b(i){c.iut=i.data},function a(i){console.log(i.data,i.status)});h({method:"GET",url:"http://localhost:8888/quizz-mmi/www/process/api.php?iut_id="+e}).then(function b(i){if(i.data[0]==null){c.error="Aucun utilisateur n'a jouÃ© pour cet IUT."}else{c.users=i.data}},function a(i){console.log(i.data,i.status)})});